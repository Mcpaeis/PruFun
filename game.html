<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <!-- Responsive -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <title>Truth | Dare</title>
        <!-- Stylesheets -->
        <!-- Add Bootstrap CSS -->
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <!-- Add jquery -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <!-- Add colapse pluginrequired by bootstrap-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.collapsible/1.2/jquery.collapsible.js" integrity="sha256-gKCJr6X85dQFAP2d6nFp3amYVmjRUsYuv6y14KiAAVM=" crossorigin="anonymous"></script>
        <!-- ADD Bootstrap js-->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
        <!-- Load ably libraries-->
        <script src="//cdn.ably.io/lib/ably.min-1.js"></script>
    </head>
    <body>
        <header>
            <button class="hello">Hello</button>
            <script>
                // Initialize ably api
                var ably = new Ably.Realtime('WAxr4g.LV6bMQ:r-QxbY8rhBZ6e66q');

                ably.connection.on('connected', function() {

                    console.log("That was simple, you're now connected to Ably in realtime");

                });

                // Create a new channel
                var channel = ably.channels.get('truthordare');

                // Subscribe to a new channel
                channel.subscribe('newChallenge', function(message){
                    console.log("Received a greeting message in realtime: "+ message.data);
                });

                // Send a message to a channel
                $(".hello").click(function(){
                    channel.publish('newChallenge', 'Starting this game huh!');
                });

            </script>
        </header>

        <section>

        </section>

    </body>

</html>